<form #formRef="ngForm" (ngSubmit)="submit()">
  <pre>{{ playlist | json }}</pre>
  <pre>{{ formRef.value | json }}</pre>

  <div class="grid gap-5">
    <div class="grid gap-2">
      <label>Name</label>
      <input
        type="text"
        class="border border-solid border-gray-400"
        [ngModel]="playlist.name"
        name="name"
        #localInputRef
        #localModelRef="ngModel"
        required
        minlength="3"
      />
      <pre>{{ localModelRef.errors | json }}</pre>

      @if(localModelRef.hasError('required')){ Name is required }
      @if(localModelRef.getError('minlength'); as error){ Mininum length is "{{
        error.requiredLength
      }}" }

      <!-- <div *ngIf="localModelRef.getError('minlength') let error = $implicit"> -->
      <!-- <div *ngIf="localModelRef.getError('minlength')   $implicit as error "> -->

      <div *ngIf="localModelRef.getError('minlength') as error">
        Mininum length is "{{ error.requiredLength }}"
      </div>

      <div class="text-right">{{ localModelRef.value?.length }} / 100</div>
    </div>

    <div class="grid gap-2">
      <label>
        <input
          type="checkbox"
          [(ngModel)]="playlist.public"
          name="public"
          (click)="(0)"
        />
        Public</label
      >
    </div>

    <div class="grid gap-2">
      <label>Description</label>
      <textarea
        [(ngModel)]="playlist.description"
        name="description"
        class="border border-solid border-gray-400"
      ></textarea>
    </div>
  </div>

  <div class="flex justify-between w-full mt-5">
    <button mat-flat-button type="submit">Save</button>
    <button mat-raised-button type="button" (click)="clickCancel()">
      Cancel
    </button>
  </div>
</form>
